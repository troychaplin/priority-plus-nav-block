(()=>{"use strict";const o=window.wp.i18n,t=window.wp.blocks,e=window.wp.primitives,r=window.ReactJSXRuntime;var i=(0,r.jsx)(e.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,r.jsx)(e.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M7.404 16.596a6.5 6.5 0 1 0 9.192-9.192 6.5 6.5 0 0 0-9.192 9.192ZM6.344 6.343a8 8 0 1 0 11.313 11.314A8 8 0 0 0 6.343 6.343Zm4.906 9.407v-3h-3v-1.5h3v-3h1.5v3h3v1.5h-3v3h-1.5Z"})});const n=window.wp.hooks,l="#ffffff",s={color:"#dddddd",width:"1px",style:"solid"},a="4px",u="default",p={top:"0.75rem",right:"1rem",bottom:"0.75rem",left:"1rem"},y="rgba(0, 0, 0, 0.05)",d="#191919",g="#191919",c="1.25rem",m={color:"#f0f0f0",width:"1px",style:"solid"},v="#ffffff",h="rgba(0, 0, 0, 0.05)",P="#191919",b="#191919";(0,t.registerBlockVariation)("core/navigation",{name:"priority-plus-navigation",title:(0,o.__)("Priority Plus Navigation","priority-plus-navigation"),description:(0,o.__)('A responsive navigation that automatically moves overflow items to a "More" dropdown.',"priority-plus-navigation"),icon:i,scope:["inserter","transform"],attributes:{className:"is-style-priority-plus-navigation",overlayMenu:"never",priorityPlusEnabled:!0,priorityPlusToggleLabel:"More",priorityPlusToggleBackgroundColor:void 0,priorityPlusToggleBackgroundColorHover:void 0,priorityPlusToggleTextColor:void 0,priorityPlusToggleTextColorHover:void 0},isActive:(o,t)=>o.className?.includes(t.className)}),(0,n.addFilter)("blocks.registerBlockType","priority-plus-navigation/extend-core-navigation",(o,t)=>"core/navigation"!==t?o:{...o,attributes:{...o.attributes,priorityPlusEnabled:{type:"boolean",default:!1},priorityPlusToggleLabel:{type:"string",default:"More"},priorityPlusToggleIcon:{type:"string",default:"none"},priorityPlusToggleBackgroundColor:{type:"string"},priorityPlusToggleBackgroundColorHover:{type:"string"},priorityPlusToggleTextColor:{type:"string"},priorityPlusToggleTextColorHover:{type:"string"},priorityPlusTogglePadding:{type:"object",default:void 0},priorityPlusMenuBackgroundColor:{type:"string",default:l},priorityPlusMenuBorder:{type:"object",default:s},priorityPlusMenuBorderRadius:{type:["string","object"],default:a},priorityPlusMenuBoxShadow:{type:"string",default:u},priorityPlusMenuItemPadding:{type:"object",default:p},priorityPlusMenuItemHoverBackground:{type:"string",default:y},priorityPlusMenuItemTextColor:{type:"string",default:d},priorityPlusMenuItemHoverTextColor:{type:"string",default:g},priorityPlusMenuSubmenuIndent:{type:"string",default:c},priorityPlusMenuItemSeparator:{type:"object",default:m},priorityPlusSubmenuBackgroundColor:{type:"string",default:v},priorityPlusSubmenuItemHoverBackground:{type:"string",default:h},priorityPlusSubmenuItemTextColor:{type:"string",default:P},priorityPlusSubmenuItemHoverTextColor:{type:"string",default:b},priorityPlusTypographyFontFamily:{type:"string"},priorityPlusTypographyFontSize:{type:"string"},priorityPlusTypographyFontWeight:{type:"string"},priorityPlusTypographyFontStyle:{type:"string"}}});const f=window.wp.blockEditor,x=window.wp.components,_=window.wp.compose,w=window.wp.element;function S(o){if(!o||"string"!=typeof o)return o;if(o.startsWith("var:preset|")){const t=o.match(/^var:preset\|([^|]+)\|(.+)$/);if(t)return`var(--wp--preset--${t[1]}--${t[2]})`}return o.startsWith("var("),o}function C(o){if(!o)return a;if("string"==typeof o)return o;if("object"==typeof o){const{topLeft:t,topRight:e,bottomRight:r,bottomLeft:i}=o;return t===e&&e===r&&r===i&&t?t:`${t||"0"} ${e||"0"} ${r||"0"} ${i||"0"}`}return a}function M(o){const t=`${p.top} ${p.right} ${p.bottom} ${p.left}`;if(!o)return t;if("string"==typeof o)return S(o);if("object"==typeof o){if(0===Object.keys(o).length)return t;const{top:e,right:r,bottom:i,left:n}=o;if(!(e&&""!==e&&"0"!==e||r&&""!==r&&"0"!==r||i&&""!==i&&"0"!==i||n&&""!==n&&"0"!==n))return t;const l=S(e)||"0",s=S(r)||"0",a=S(i)||"0",u=S(n)||"0";return l===s&&s===a&&a===u?l:l===a&&s===u?`${l} ${s}`:`${l} ${s} ${a} ${u}`}return t}function T({attributes:t,typographyStyles:e={}}){const{priorityPlusMenuBackgroundColor:i,priorityPlusMenuBorder:n,priorityPlusMenuBorderRadius:f,priorityPlusMenuBoxShadow:x,priorityPlusMenuItemPadding:_,priorityPlusMenuItemHoverBackground:T,priorityPlusMenuItemTextColor:B,priorityPlusMenuItemHoverTextColor:I,priorityPlusMenuSubmenuIndent:j,priorityPlusMenuItemSeparator:k,priorityPlusSubmenuBackgroundColor:F,priorityPlusSubmenuItemHoverBackground:H,priorityPlusSubmenuItemTextColor:A,priorityPlusSubmenuItemHoverTextColor:z}=t,D=i||l,N=n||s,$=f||a,R=x||u,E=_||p,W=T||y,L=B||d,V=I||g,O=k||m,q=F||v,Z=H||h,G=A||P,J=z||b,[X,K]=(0,w.useState)(!0),Q=(0,w.useMemo)(()=>{const o=function(o){const t=s,e="--wp--custom--priority-plus-navigation--dropdown--";if(!o)return{[`${e}border-color`]:t.color,[`${e}border-width`]:t.width,[`${e}border-style`]:t.style};if(o.color||o.width||o.style)return{[`${e}border-color`]:o.color||t.color,[`${e}border-width`]:o.width||t.width,[`${e}border-style`]:o.style||t.style};const r=["top","right","bottom","left"];if(r.some(t=>o[t])){const i={};if(r.forEach(r=>{const n=o[r];if(n&&(n.color||n.width||n.style)){const o=n.width||t.width,l=n.style||t.style,s=n.color||t.color;i[`${e}border-${r}`]=`${o} ${l} ${s}`}}),Object.keys(i).length>0)return i}return{[`${e}border-color`]:t.color,[`${e}border-width`]:t.width,[`${e}border-style`]:t.style}}(N),t={"--wp--custom--priority-plus-navigation--dropdown--background-color":D,"--wp--custom--priority-plus-navigation--dropdown--border-radius":C($),"--wp--custom--priority-plus-navigation--dropdown--box-shadow":R,"--wp--custom--priority-plus-navigation--dropdown--item-spacing":M(E),"--wp--custom--priority-plus-navigation--dropdown--item-hover-background-color":W,"--wp--custom--priority-plus-navigation--dropdown--item-text-color":L,"--wp--custom--priority-plus-navigation--dropdown--item-hover-text-color":V,"--wp--custom--priority-plus-navigation--dropdown--multi-level-indent":(r=j,r?"object"==typeof r&&r.left?S(r.left):"string"==typeof r?S(r):c:c),"--wp--custom--priority-plus-navigation--dropdown--item-separator-color":O?.color||"transparent","--wp--custom--priority-plus-navigation--dropdown--item-separator-width":O?.width||"0","--wp--custom--priority-plus-navigation--dropdown--item-separator-style":O?.style||"solid","--wp--custom--priority-plus-navigation--dropdown--submenu-background-color":q,"--wp--custom--priority-plus-navigation--dropdown--submenu-item-hover-background-color":Z,"--wp--custom--priority-plus-navigation--dropdown--submenu-item-text-color":G,"--wp--custom--priority-plus-navigation--dropdown--submenu-item-hover-text-color":J,...o};var r;return e.fontFamily&&(t.fontFamily=e.fontFamily),e.fontSize&&(t.fontSize=e.fontSize),e.fontWeight&&(t.fontWeight=e.fontWeight),e.fontStyle&&(t.fontStyle=e.fontStyle),t},[D,N,$,R,E,W,L,V,j,O,q,Z,G,J,e]);return(0,r.jsxs)("ul",{className:"priority-plus-navigation-dropdown is-open",style:Q,children:[(0,r.jsx)("li",{children:(0,r.jsx)("span",{className:"priority-plus-navigation-preview-link",children:(0,o.__)("Top level item","priority-plus-navigation")})}),(0,r.jsx)("li",{className:"dropdown-preview-hover-demo",children:(0,r.jsx)("span",{className:"priority-plus-navigation-preview-link",children:(0,o.__)("Another top level item","priority-plus-navigation")})}),(0,r.jsxs)("li",{children:[(0,r.jsxs)("button",{type:"button",className:"priority-plus-navigation-accordion-toggle priority-plus-navigation-accordion-toggle-full",onClick:()=>K(!X),"aria-expanded":X,children:[(0,r.jsx)("span",{className:"priority-plus-navigation-accordion-text",children:(0,o.__)("Top level with a submenu","priority-plus-navigation")}),(0,r.jsx)("span",{className:"priority-plus-navigation-accordion-arrow","aria-hidden":"true",children:"›"})]}),X&&(0,r.jsxs)("ul",{className:"priority-plus-navigation-accordion-content is-open",children:[(0,r.jsx)("li",{children:(0,r.jsx)("span",{className:"priority-plus-navigation-preview-link",children:(0,o.__)("Submenu item","priority-plus-navigation")})}),(0,r.jsxs)("li",{children:[(0,r.jsxs)("button",{type:"button",className:"priority-plus-navigation-accordion-toggle priority-plus-navigation-accordion-toggle-full",onClick:()=>K(!X),"aria-expanded":X,children:[(0,r.jsx)("span",{className:"priority-plus-navigation-accordion-text",children:(0,o.__)("Submenu in a submenu","priority-plus-navigation")}),(0,r.jsx)("span",{className:"priority-plus-navigation-accordion-arrow","aria-hidden":"true",children:"›"})]}),X&&(0,r.jsxs)("ul",{className:"priority-plus-navigation-accordion-content is-open",children:[(0,r.jsx)("li",{children:(0,r.jsx)("span",{className:"priority-plus-navigation-preview-link",children:(0,o.__)("Going deeper into the submenu","priority-plus-navigation")})}),(0,r.jsx)("li",{children:(0,r.jsx)("span",{className:"priority-plus-navigation-preview-link",children:(0,o.__)("Woah, submenu inception!","priority-plus-navigation")})})]})]})]})]}),(0,r.jsx)("li",{children:(0,r.jsx)("span",{className:"priority-plus-navigation-preview-link",children:(0,o.__)("Don't forget to test nav item the hover effect!","priority-plus-navigation")})})]})}function B({attributes:t,setAttributes:e}){const{priorityPlusMenuBackgroundColor:i,priorityPlusMenuItemHoverBackground:n,priorityPlusMenuItemTextColor:s,priorityPlusMenuItemHoverTextColor:a}=t;return(0,r.jsx)(f.PanelColorSettings,{title:(0,o.__)("Priority Plus Menu Colors","priority-plus-navigation"),colorSettings:[{label:(0,o.__)("Background Color","priority-plus-navigation"),value:i||l,onChange:o=>e({priorityPlusMenuBackgroundColor:o||l}),enableAlpha:!0},{label:(0,o.__)("Item Hover Background","priority-plus-navigation"),value:n||y,onChange:o=>e({priorityPlusMenuItemHoverBackground:o||y}),enableAlpha:!0},{label:(0,o.__)("Item Text Color","priority-plus-navigation"),value:s||d,onChange:o=>e({priorityPlusMenuItemTextColor:o||d}),enableAlpha:!0},{label:(0,o.__)("Item Hover Text Color","priority-plus-navigation"),value:a||g,onChange:o=>e({priorityPlusMenuItemHoverTextColor:o||g}),enableAlpha:!0}]})}function I({attributes:t,setAttributes:e}){const{priorityPlusSubmenuBackgroundColor:i,priorityPlusSubmenuItemHoverBackground:n,priorityPlusSubmenuItemTextColor:l,priorityPlusSubmenuItemHoverTextColor:s}=t;return(0,r.jsx)(f.PanelColorSettings,{title:(0,o.__)("Priority Plus Submenu Colors","priority-plus-navigation"),colorSettings:[{label:(0,o.__)("Background Color","priority-plus-navigation"),value:i||v,onChange:o=>e({priorityPlusSubmenuBackgroundColor:o||v}),enableAlpha:!0},{label:(0,o.__)("Item Hover Background","priority-plus-navigation"),value:n||h,onChange:o=>e({priorityPlusSubmenuItemHoverBackground:o||h}),enableAlpha:!0},{label:(0,o.__)("Item Text Color","priority-plus-navigation"),value:l||P,onChange:o=>e({priorityPlusSubmenuItemTextColor:o||P}),enableAlpha:!0},{label:(0,o.__)("Item Hover Text Color","priority-plus-navigation"),value:s||b,onChange:o=>e({priorityPlusSubmenuItemHoverTextColor:o||b}),enableAlpha:!0}]})}function j({value:t,onChange:e}){const i=(0,f.useSetting)("shadow.presets.theme"),n=(0,f.useSetting)("shadow.presets.default"),l=(0,w.useMemo)(()=>{const t=i||[],e=n||[],r=[{value:"none",label:(0,o.__)("None","priority-plus-navigation")},{value:u,label:(0,o.__)("Default","priority-plus-navigation")}];return t.length>0&&t.forEach(o=>{r.push({value:o.shadow,label:o.name})}),e.length>0&&e.forEach(o=>{r.push({value:o.shadow,label:o.name})}),r},[i,n]),[s,a]=(0,w.useState)(l);return(0,r.jsx)(x.ComboboxControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:(0,o.__)("Shadow","priority-plus-navigation"),value:t,onChange:o=>{e(o)},options:s,onFilterValueChange:o=>{if(!o)return void a(l);const t=o.toLowerCase();a(l.filter(o=>o.label.toLowerCase().includes(t)))}})}function k({attributes:t,setAttributes:e}){const{priorityPlusMenuBorder:i,priorityPlusMenuBorderRadius:n,priorityPlusMenuBoxShadow:l}=t,p=(0,f.useSetting)("color.palette")||[];return(0,r.jsxs)(x.__experimentalToolsPanel,{label:(0,o.__)("Priority Plus Menu Styles","priority-plus-navigation"),resetAll:()=>{e({priorityPlusMenuBorder:s,priorityPlusMenuBorderRadius:a,priorityPlusMenuBoxShadow:u})},children:[(0,r.jsx)(x.__experimentalToolsPanelItem,{hasValue:()=>{return!!(o=i)&&(!!(o.color||o.width||o.style)||["top","right","bottom","left"].some(t=>{const e=o[t];return e&&(e.color||e.width||e.style)}));var o},label:(0,o.__)("Menu Border","priority-plus-navigation"),onDeselect:()=>e({priorityPlusMenuBorder:s}),isShownByDefault:!0,children:(0,r.jsx)(x.__experimentalBorderBoxControl,{label:(0,o.__)("Border","priority-plus-navigation"),colors:p,value:i,onChange:o=>e({priorityPlusMenuBorder:o}),enableAlpha:!0,enableStyle:!0,size:"__unstable-large"})}),(0,r.jsx)(x.__experimentalToolsPanelItem,{hasValue:()=>{return!!(o=n)&&("string"==typeof o?""!==o:"object"==typeof o&&Object.values(o).some(o=>o&&""!==o));var o},label:(0,o.__)("Border Radius","priority-plus-navigation"),onDeselect:()=>e({priorityPlusMenuBorderRadius:a}),isShownByDefault:!0,children:(0,r.jsx)(f.__experimentalBorderRadiusControl,{label:(0,o.__)("Border Radius","priority-plus-navigation"),values:n,onChange:o=>e({priorityPlusMenuBorderRadius:o})})}),(0,r.jsx)(x.__experimentalToolsPanelItem,{hasValue:()=>!!l,label:(0,o.__)("Shadow","priority-plus-navigation"),onDeselect:()=>e({priorityPlusMenuBoxShadow:u}),isShownByDefault:!0,children:(0,r.jsx)(j,{value:l||u,onChange:o=>e({priorityPlusMenuBoxShadow:o})})})]})}function F({attributes:t,setAttributes:e,spacingSizes:i}){const{priorityPlusMenuItemPadding:n,priorityPlusMenuSubmenuIndent:l,priorityPlusMenuItemSeparator:s}=t,a=(0,f.useSetting)("color.palette")||[];return(0,r.jsxs)(x.__experimentalToolsPanel,{label:(0,o.__)("Priority Menu Item Styles","priority-plus-navigation"),resetAll:()=>{e({priorityPlusMenuItemPadding:p,priorityPlusMenuSubmenuIndent:c,priorityPlusMenuItemSeparator:m})},children:[(0,r.jsx)(x.__experimentalToolsPanelItem,{hasValue:()=>{return!!(o=s)&&!!(o.color||o.width||o.style);var o},label:(0,o.__)("Menu Item Divider","priority-plus-navigation"),onDeselect:()=>e({priorityPlusMenuItemSeparator:m}),isShownByDefault:!0,children:(0,r.jsx)(x.__experimentalBorderControl,{__next40pxDefaultSize:!0,label:(0,o.__)("Menu Item Divider","priority-plus-navigation"),colors:a,value:s||m,onChange:o=>e({priorityPlusMenuItemSeparator:o}),enableAlpha:!0,enableStyle:!0,withSlider:!0})}),(0,r.jsx)(x.__experimentalToolsPanelItem,{hasValue:()=>{return!!(o=n)&&("object"==typeof o?Object.values(o).some(o=>o&&""!==o):!!o);var o},label:(0,o.__)("Menu Item Padding","priority-plus-navigation"),onDeselect:()=>e({priorityPlusMenuItemPadding:p}),isShownByDefault:!0,children:i.length>0?(0,r.jsx)(f.__experimentalSpacingSizesControl,{values:n,onChange:o=>e({priorityPlusMenuItemPadding:o}),label:(0,o.__)("Menu Item Padding","priority-plus-navigation"),sides:["top","right","bottom","left"],units:["px","em","rem","vh","vw"]}):(0,r.jsx)(x.BoxControl,{label:(0,o.__)("Menu Item Padding","priority-plus-navigation"),values:n,onChange:o=>e({priorityPlusMenuItemPadding:o}),sides:["top","right","bottom","left"],units:["px","em","rem","vh","vw"],allowReset:!0})}),(0,r.jsx)(x.__experimentalToolsPanelItem,{hasValue:()=>{return!!(o=l)&&("object"==typeof o?o.left&&""!==o.left:!!o);var o},label:(0,o.__)("Submenu Indent","priority-plus-navigation"),onDeselect:()=>e({priorityPlusMenuSubmenuIndent:{left:c}}),isShownByDefault:!0,children:(0,r.jsx)(f.__experimentalSpacingSizesControl,{label:(0,o.__)("Submenu Indent","priority-plus-navigation"),values:(u=l,u?"object"==typeof u&&u.left?u:"string"==typeof u?{left:u}:{left:c}:{left:c}),onChange:o=>e({priorityPlusMenuSubmenuIndent:o}),sides:["left"]})})]});var u}function H({attributes:t,setAttributes:e,onClose:i}){const n=(0,f.useSetting)("typography.fontSizes")||[],_=(0,f.useSetting)("typography.fontFamilies")||[],w={};if(t.priorityPlusTypographyFontFamily){let o=[];_&&"object"==typeof _&&!Array.isArray(_)?(_.theme&&Array.isArray(_.theme)&&(o=o.concat(_.theme)),_.custom&&Array.isArray(_.custom)&&(o=o.concat(_.custom))):Array.isArray(_)&&_.forEach(t=>{t.fontFamilies&&Array.isArray(t.fontFamilies)?o=o.concat(t.fontFamilies):t.slug&&t.fontFamily&&o.push(t)});const e=o.find(o=>o.slug===t.priorityPlusTypographyFontFamily);e&&(w.fontFamily=e.fontFamily)}if(t.priorityPlusTypographyFontSize){let o=[];Array.isArray(n)&&n.forEach(t=>{t.sizes&&Array.isArray(t.sizes)?o=o.concat(t.sizes):t.slug&&t.size&&o.push(t)});const e=o.find(o=>o.slug===t.priorityPlusTypographyFontSize);e&&(w.fontSize=e.size)}t.priorityPlusTypographyFontWeight&&(w.fontWeight=t.priorityPlusTypographyFontWeight),t.priorityPlusTypographyFontStyle&&(w.fontStyle=t.priorityPlusTypographyFontStyle);const S=(0,f.useSetting)("spacing.spacingSizes")||[];return(0,r.jsxs)(x.Modal,{title:(0,o.__)("Customize Priority Plus Menu","priority-plus-navigation"),onRequestClose:i,className:"priority-plus-dropdown-customizer",size:"large",isDismissible:!0,children:[(0,r.jsxs)("div",{className:"dropdown-customizer-layout",children:[(0,r.jsxs)("div",{className:"dropdown-customizer-controls",children:[(0,r.jsx)(B,{attributes:t,setAttributes:e}),(0,r.jsx)(k,{attributes:t,setAttributes:e}),(0,r.jsx)(I,{attributes:t,setAttributes:e}),(0,r.jsx)(F,{attributes:t,setAttributes:e,spacingSizes:S})]}),(0,r.jsx)("div",{className:"dropdown-customizer-preview",children:(0,r.jsx)(T,{attributes:t,typographyStyles:w})})]}),(0,r.jsxs)("div",{className:"dropdown-customizer-footer",children:[(0,r.jsx)(x.Button,{variant:"tertiary",isDestructive:!0,onClick:()=>{e({priorityPlusMenuBackgroundColor:l,priorityPlusMenuBorder:s,priorityPlusMenuBorderRadius:a,priorityPlusMenuBoxShadow:u,priorityPlusMenuItemPadding:p,priorityPlusMenuItemHoverBackground:y,priorityPlusMenuItemTextColor:d,priorityPlusMenuItemHoverTextColor:g,priorityPlusMenuSubmenuIndent:{left:c},priorityPlusMenuItemSeparator:m,priorityPlusSubmenuBackgroundColor:v,priorityPlusSubmenuItemHoverBackground:h,priorityPlusSubmenuItemTextColor:P,priorityPlusSubmenuItemHoverTextColor:b})},children:(0,o.__)("Reset to Defaults","priority-plus-navigation")}),(0,r.jsx)(x.Button,{variant:"primary",onClick:i,children:(0,o.__)("Done","priority-plus-navigation")})]})]})}const A=(0,_.createHigherOrderComponent)(o=>t=>{const{name:e,attributes:i}=t;if("core/navigation"!==e)return(0,r.jsx)(o,{...t});const n=(i.className||"").includes("is-style-priority-plus-navigation")||!0===i.priorityPlusEnabled;return(0,w.useEffect)(()=>{if(!n)return;const o=document.querySelector(".block-editor-block-inspector");if(!o)return;const t=o.querySelector('.components-toggle-group-control-option-base[data-value="always"]');t&&(t.style.opacity="0.4",t.style.pointerEvents="none",t.style.textDecoration="line-through",t.style.cursor="not-allowed")},[n,i.overlayMenu]),(0,r.jsx)(o,{...t})},"addDisableAlwaysOption"),z=(0,_.createHigherOrderComponent)(t=>e=>{const{name:i,attributes:n,setAttributes:_}=e;if("core/navigation"!==i)return(0,r.jsx)(t,{...e});const S=(n.className||"").includes("is-style-priority-plus-navigation")||!0===n.priorityPlusEnabled;if(!S)return(0,r.jsx)(t,{...e});const{priorityPlusToggleLabel:C,priorityPlusToggleBackgroundColor:M,priorityPlusToggleBackgroundColorHover:T,priorityPlusToggleTextColor:B,priorityPlusToggleTextColorHover:I,priorityPlusTogglePadding:j,overlayMenu:k}=n,[F,A]=(0,w.useState)(!1);(0,w.useEffect)(()=>{S&&"always"===k&&_({overlayMenu:"mobile"})},[S,k,_]),(0,w.useEffect)(()=>{if(!S)return;const o=n.style?.typography?.fontWeight,t=n.style?.typography?.fontStyle;n.fontSize===n.priorityPlusTypographyFontSize&&n.fontFamily===n.priorityPlusTypographyFontFamily&&o===n.priorityPlusTypographyFontWeight&&t===n.priorityPlusTypographyFontStyle||_({priorityPlusTypographyFontFamily:n.fontFamily,priorityPlusTypographyFontSize:n.fontSize,priorityPlusTypographyFontWeight:o,priorityPlusTypographyFontStyle:t})},[S,n.fontSize,n.fontFamily,n.style?.typography?.fontWeight,n.style?.typography?.fontStyle,n.priorityPlusTypographyFontFamily,n.priorityPlusTypographyFontSize,n.priorityPlusTypographyFontWeight,n.priorityPlusTypographyFontStyle,_]);const z=(0,f.useSetting)("spacing.spacingSizes")||[];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t,{...e}),(0,r.jsx)(f.InspectorControls,{group:"settings",children:(0,r.jsx)(x.Notice,{status:"info",isDismissible:!1,children:(0,o.__)('Priority Plus Navigation is not compatible with "Always" overlay menu. The overlay menu is set to "Mobile" to allow Priority+ to work on desktop.',"priority-plus-navigation")})}),(0,r.jsxs)(f.InspectorControls,{group:"styles",children:[(0,r.jsxs)(x.__experimentalToolsPanel,{label:(0,o.__)("Priority Plus Settings","priority-plus-navigation"),resetAll:()=>_({priorityPlusToggleLabel:"More",priorityPlusMenuBackgroundColor:l,priorityPlusMenuBorder:s,priorityPlusMenuBorderRadius:a,priorityPlusMenuBoxShadow:u,priorityPlusMenuItemPadding:p,priorityPlusMenuItemHoverBackground:y,priorityPlusMenuItemTextColor:d,priorityPlusMenuItemHoverTextColor:g,priorityPlusMenuSubmenuIndent:{left:c},priorityPlusMenuItemSeparator:m,priorityPlusSubmenuBackgroundColor:v,priorityPlusSubmenuItemHoverBackground:h,priorityPlusSubmenuItemTextColor:P,priorityPlusSubmenuItemHoverTextColor:b}),children:[(0,r.jsx)(x.__experimentalToolsPanelItem,{hasValue:()=>!!C,label:(0,o.__)("Button Label","priority-plus-navigation"),onDeselect:()=>_({priorityPlusToggleLabel:"More"}),isShownByDefault:!0,children:(0,r.jsx)(x.TextControl,{label:(0,o.__)("Button Label","priority-plus-navigation"),value:C,onChange:o=>_({priorityPlusToggleLabel:o}),help:(0,o.__)("Text displayed on the toggle button","priority-plus-navigation")})}),(0,r.jsx)(x.__experimentalToolsPanelItem,{hasValue:()=>{const{priorityPlusMenuBackgroundColor:o,priorityPlusMenuBorder:t,priorityPlusMenuBorderRadius:e,priorityPlusMenuBoxShadow:r,priorityPlusMenuItemPadding:i,priorityPlusMenuItemHoverBackground:l,priorityPlusMenuItemHoverTextColor:s,priorityPlusMenuSubmenuIndent:a}=n;return!!(o||t||e||r||i||l||s||a)},label:(0,o.__)("Custom Dropdown","priority-plus-navigation"),onDeselect:()=>_({priorityPlusMenuBackgroundColor:l,priorityPlusMenuBorder:s,priorityPlusMenuBorderRadius:a,priorityPlusMenuBoxShadow:u,priorityPlusMenuItemPadding:p,priorityPlusMenuItemHoverBackground:y,priorityPlusMenuItemTextColor:d,priorityPlusMenuItemHoverTextColor:g,priorityPlusMenuSubmenuIndent:{left:c},priorityPlusMenuItemSeparator:m,priorityPlusSubmenuBackgroundColor:v,priorityPlusSubmenuItemHoverBackground:h,priorityPlusSubmenuItemTextColor:P,priorityPlusSubmenuItemHoverTextColor:b}),isShownByDefault:!0,children:(0,r.jsx)(x.Button,{variant:"primary",onClick:()=>A(!0),children:(0,o.__)("Customize Dropdown Menu","priority-plus-navigation")})})]}),(0,r.jsx)(f.PanelColorSettings,{title:(0,o.__)("Priority Plus Button Colors","priority-plus-navigation"),colorSettings:[{label:(0,o.__)("Text Color","priority-plus-navigation"),value:B,onChange:o=>_({priorityPlusToggleTextColor:o||void 0}),clearable:!0},{label:(0,o.__)("Text Hover Color","priority-plus-navigation"),value:I,onChange:o=>_({priorityPlusToggleTextColorHover:o||void 0}),clearable:!0},{label:(0,o.__)("Background Color","priority-plus-navigation"),value:M,onChange:o=>_({priorityPlusToggleBackgroundColor:o||void 0}),clearable:!0},{label:(0,o.__)("Background Hover Color","priority-plus-navigation"),value:T,onChange:o=>_({priorityPlusToggleBackgroundColorHover:o||void 0}),clearable:!0,enableAlpha:!0}]}),(0,r.jsx)(x.__experimentalToolsPanel,{label:(0,o.__)("Priority Plus Button Spacing","priority-plus-navigation"),resetAll:()=>_({priorityPlusTogglePadding:void 0}),children:(0,r.jsx)(x.__experimentalToolsPanelItem,{hasValue:()=>!!j&&Object.keys(j).length>0,label:(0,o.__)("Button Padding","priority-plus-navigation"),onDeselect:()=>_({priorityPlusTogglePadding:void 0}),isShownByDefault:!0,children:z.length>0?(0,r.jsx)(f.__experimentalSpacingSizesControl,{values:j,onChange:o=>_({priorityPlusTogglePadding:o}),label:(0,o.__)("Button Padding","priority-plus-navigation"),sides:["top","right","bottom","left"],units:["px","em","rem","vh","vw"]}):(0,r.jsx)(x.BoxControl,{label:(0,o.__)("Button Padding","priority-plus-navigation"),values:j,onChange:o=>_({priorityPlusTogglePadding:o}),sides:["top","right","bottom","left"],units:["px","em","rem","vh","vw"],allowReset:!0})})})]}),F&&(0,r.jsx)(H,{attributes:n,setAttributes:_,onClose:()=>A(!1)})]})},"withPriorityPlusControls");(0,n.addFilter)("editor.BlockEdit","priority-plus-navigation/add-disable-always-option",A,5),(0,n.addFilter)("editor.BlockEdit","priority-plus-navigation/add-priority-plus-navigation-controls",z,10)})();