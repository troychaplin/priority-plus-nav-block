(()=>{"use strict";var t,e={103(){class t{static instanceCounter=0;static DEFAULT_MORE_LABEL="Browse";static DEFAULT_MORE_ICON="none";static DEFAULT_GAP=8;static RETRY_INTERVAL=100;static MAX_RETRY_ATTEMPTS=20;constructor(e){"true"!==e.dataset.priorityNavInitialized&&(this.instanceId="priority-nav-"+t.instanceCounter++,e.classList.contains("wp-block-navigation")&&e.classList.contains("is-style-priority-nav")&&(e.dataset.priorityNavInitialized="true",this.nav=e,this.wrapper=e,this.nav&&(this.list=this.nav.querySelector(".wp-block-navigation__container"),this.moreLabel=this.nav.getAttribute("data-more-label")||t.DEFAULT_MORE_LABEL,this.moreIcon=this.nav.getAttribute("data-more-icon")||t.DEFAULT_MORE_ICON,this.openSubmenusOnClick=this.detectOpenSubmenusOnClick(),this.list&&(this.createMoreButton(),this.items=Array.from(this.list.children),this.itemWidths=[],this.isOpen=!1,this.isCalculating=!1,this.openAccordions=[],this.submenuCounter=0,this.responsiveContainer=this.nav.querySelector(".wp-block-navigation__responsive-container"),this.mutationObserver=null,this.retryTimeout=null,this.isEnabled=!0,this.moreButtonWidth=null,this.init()))))}detectOpenSubmenusOnClick(){let t=null;if(this.nav.attributes)for(let e=0;e<this.nav.attributes.length;e++){const i=this.nav.attributes[e],s=i.name.toLowerCase();if(s.includes("open")&&s.includes("submenu")&&s.includes("click")){t=i.value;break}if("data-opensubmenusonclick"===s||"data-open-submenus-on-click"===s){t=i.value;break}}if(null===t&&(this.nav.classList.contains("open-on-click")||this.nav.classList.contains("open-submenus-on-click")||this.nav.classList.contains("has-open-submenus-on-click"))&&(t="true"),null===t&&this.list){const e=this.list.querySelector("li.has-child, li.open-on-click");e&&(e.classList.contains("open-on-click")||e.classList.contains("open-submenus-on-click"))&&(t="true")}return"true"===t||"1"===t||""===t}isElementVisible(t){if(!t)return!1;const e=window.getComputedStyle(t),i=t.getBoundingClientRect();return"none"!==e.display&&"hidden"!==e.visibility&&i.width>0&&i.height>0}getElementWidth(t){return this.isElementVisible(t)?t.getBoundingClientRect().width:0}createMoreButton(){this.moreContainer=document.createElement("div"),this.moreContainer.className="priority-nav-more",this.moreButton=document.createElement("button"),this.moreButton.type="button",this.moreButton.className="priority-nav-more-button wp-block-navigation-item",this.moreButton.setAttribute("aria-expanded","false"),this.moreButton.setAttribute("aria-haspopup","true"),this.moreButton.setAttribute("aria-label",this.moreLabel);const t={chevron:"▼",plus:"+",menu:"≡"},e=t[this.moreIcon]?`<span class="priority-nav-icon">${t[this.moreIcon]}</span>`:"";this.moreButton.innerHTML=`\n\t\t\t<span class="wp-block-navigation-item__label">${this.moreLabel}</span>\n\t\t\t${e}\n\t\t`,this.dropdown=document.createElement("ul"),this.dropdown.className="priority-nav-dropdown wp-block-navigation__submenu-container",this.dropdown.setAttribute("role","menu"),this.moreContainer.appendChild(this.moreButton),this.moreContainer.appendChild(this.dropdown),this.list.parentNode.appendChild(this.moreContainer),this.moreContainer.style.display="none"}init(){this.wrapper&&document.body.contains(this.wrapper)&&(this.setupEventListeners(),this.setupResponsiveObserver(),this.isInHamburgerMode()?this.disablePriorityNav():this.enablePriorityNav(),"undefined"!=typeof ResizeObserver&&(this.resizeObserver=new ResizeObserver(()=>{if(document.body.contains(this.wrapper)&&!this.isCalculating){const t=this.isEnabled,e=this.isInHamburgerMode();e&&t?this.disablePriorityNav():e||t?!e&&t&&requestAnimationFrame(()=>this.checkOverflow()):this.enablePriorityNav()}}),this.resizeObserver.observe(this.wrapper)))}isInHamburgerMode(){return!(!this.responsiveContainer||this.isElementVisible(this.responsiveContainer)&&"true"!==this.responsiveContainer.getAttribute("aria-hidden"))||!(!this.list||this.isElementVisible(this.list))}isMeasurable(){return this.isElementVisible(this.list)}disablePriorityNav(){this.items&&Array.isArray(this.items)&&(this.isEnabled=!1,this.items.forEach(t=>{t&&t.style&&(t.style.display="")}),this.moreContainer&&this.moreContainer.style&&(this.moreContainer.style.display="none"),this.closeDropdown())}enablePriorityNav(){this.isEnabled=!0,this.isMeasurable()?((0===this.itemWidths.length||this.itemWidths.some(t=>0===t))&&this.cacheItemWidths(),requestAnimationFrame(()=>{this.checkOverflow()})):this.scheduleRetry()}scheduleRetry(e=t.MAX_RETRY_ATTEMPTS){this.retryTimeout&&clearTimeout(this.retryTimeout);let i=0;const s=()=>{i++,this.isMeasurable()&&!this.isInHamburgerMode()?(this.enablePriorityNav(),this.retryTimeout=null):this.retryTimeout=i<e?setTimeout(s,t.RETRY_INTERVAL):null};this.retryTimeout=setTimeout(s,t.RETRY_INTERVAL)}setupResponsiveObserver(){"undefined"!=typeof MutationObserver&&this.responsiveContainer&&(this.mutationObserver=new MutationObserver(t=>{if(!document.body.contains(this.nav))return;let e=!1;if(t.forEach(t=>{"attributes"!==t.type||"aria-hidden"!==t.attributeName&&"class"!==t.attributeName||(e=!0)}),e){const t=this.isInHamburgerMode();t&&this.isEnabled?this.disablePriorityNav():t||this.isEnabled||this.enablePriorityNav()}}),this.mutationObserver.observe(this.responsiveContainer,{attributes:!0,attributeFilter:["aria-hidden","class"]}),this.list&&document.body.contains(this.list)&&this.mutationObserver.observe(this.list,{attributes:!0,attributeFilter:["style","class"],attributeOldValue:!1}))}hasValidWidthCache(){return this.itemWidths.length===this.items.length&&!this.itemWidths.some(t=>0===t)}cacheItemWidths(){this.isMeasurable()&&(this.items.forEach(t=>{t.style.display=""}),this.list.offsetHeight,this.itemWidths=this.items.map(t=>{const e=this.getElementWidth(t);return e>0?e:0}),this.itemWidths.some(t=>0===t)&&this.scheduleRetry())}cacheMoreButtonWidth(){if(null!==this.moreButtonWidth)return this.moreButtonWidth;const t="none"===this.moreContainer.style.display;return t&&(this.moreContainer.style.display=""),this.moreButton.offsetHeight,this.moreButtonWidth=this.getElementWidth(this.moreButton),t&&(this.moreContainer.style.display="none"),this.moreButtonWidth}setupEventListeners(){this.moreButtonClickHandler=t=>{t.preventDefault(),t.stopPropagation(),this.toggleDropdown()},this.moreButton.addEventListener("click",this.moreButtonClickHandler),this.documentClickHandler=t=>{this.moreContainer&&!this.moreContainer.contains(t.target)&&this.isOpen&&this.closeDropdown()},document.addEventListener("click",this.documentClickHandler,!0),this.documentKeydownHandler=t=>{"Escape"===t.key&&this.isOpen&&(this.openAccordions.length>0?(this.closeAllAccordions(),t.preventDefault()):this.closeDropdown())},document.addEventListener("keydown",this.documentKeydownHandler),this.dropdownClickHandler=t=>{const e=t.target.closest(".priority-nav-accordion-toggle");if(e){t.preventDefault(),t.stopPropagation();const i=e.getAttribute("aria-controls"),s=this.dropdown.querySelector(`#${i}`);s&&this.toggleAccordionItem(e,s)}},this.dropdown.addEventListener("click",this.dropdownClickHandler)}calculateAvailableWidth(){const t=this.nav.getBoundingClientRect(),e=window.getComputedStyle(this.nav),i=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight),s=t.width>0?t.width:this.getElementWidth(this.wrapper);return s>0?s-i:0}getGap(){const e=window.getComputedStyle(this.list),i=window.getComputedStyle(this.nav);return parseFloat(e.gap)||parseFloat(i.gap)||t.DEFAULT_GAP}calculateVisibleItems(t,e,i){let s=0;for(let t=0;t<this.items.length;t++)s+=(t>0?i:0)+this.itemWidths[t];if(s<=t)return this.items.length;let n=0,r=0;for(let s=0;s<this.items.length;s++){const o=(s>0?i:0)+this.itemWidths[s];if(!(n+o+i+e<=t)&&0!==s)break;n+=o,r++}return r}buildDropdownFromOverflow(t){this.dropdown.innerHTML="",this.submenuCounter=0;for(let e=t;e<this.items.length;e++){const t=this.extractNavItemData(this.items[e]),i=this.buildAccordionHTML(t,0),s=document.createElement("li");s.innerHTML=i,this.dropdown.appendChild(s)}}checkOverflow(){if(!this.isEnabled||!this.isMeasurable())return void(this.isCalculating=!1);if(!document.body.contains(this.nav))return void(this.isCalculating=!1);if(this.isCalculating=!0,!this.hasValidWidthCache()&&(this.cacheItemWidths(),!this.hasValidWidthCache()))return void(this.isCalculating=!1);const t=this.calculateAvailableWidth(),e=this.cacheMoreButtonWidth();if(e>=t)return this.items.forEach(t=>t.style.display="none"),this.moreContainer.style.display="",void(this.isCalculating=!1);const i=this.getGap(),s=this.calculateVisibleItems(t,e,i);if(s===this.items.length)this.items.forEach(t=>t.style.display=""),this.moreContainer.style.display="none",this.closeDropdown();else{this.moreContainer.style.display="none";for(let t=s;t<this.items.length;t++)this.items[t].style.display="none";for(let t=0;t<s;t++)this.items[t].style.display="";this.list.offsetHeight,this.buildDropdownFromOverflow(s),this.moreContainer.style.display=""}this.isCalculating=!1}toggleDropdown(){this.isOpen?this.closeDropdown():this.openDropdown()}openDropdown(){this.dropdown&&this.moreButton&&(this.isOpen=!0,this.dropdown.classList.add("is-open"),this.moreButton.setAttribute("aria-expanded","true"))}closeDropdown(){this.dropdown&&this.moreButton&&(this.isOpen=!1,this.dropdown.classList.remove("is-open"),this.moreButton.setAttribute("aria-expanded","false"),this.closeAllAccordions())}extractLinkText(t){if(!t)return"";const e=t.querySelector(".wp-block-navigation-item__label");if(e)return e.textContent.trim();const i=t.cloneNode(!0);i.querySelectorAll("*").forEach(t=>t.remove());let s=i.textContent.trim();if(!s){const e=Array.from(t.childNodes).filter(t=>t.nodeType===Node.TEXT_NODE);e.length>0&&(s=e.map(t=>t.textContent.trim()).filter(t=>t).join(" "))}return s}removeChildTextFromParent(t,e){if(!t||!e)return t;const i=[];if(e.querySelectorAll("li a").forEach(e=>{const s=e.textContent.trim();s&&t.includes(s)&&i.push(s)}),i.length>0){let e=t;return i.forEach(t=>{e=e.replace(t,"").trim()}),e}return t}extractNavItemData(t){const e={text:"",url:"#",hasSubmenu:!1,children:[]},i=t.querySelector(":scope > .wp-block-navigation__submenu-container");let s=t.querySelector(":scope > a");if(s||(s=t.querySelector(":scope > .wp-block-navigation-item__content a")),!s){if(i){const i=t.cloneNode(!0),s=i.querySelector(".wp-block-navigation__submenu-container");s&&s.remove(),e.text=i.textContent.trim()}else e.text=t.textContent.trim();return i&&(e.hasSubmenu=!0,i.querySelectorAll(":scope > li").forEach(t=>{e.children.push(this.extractNavItemData(t))})),e}return e.text=this.extractLinkText(s),i&&e.text&&(e.text=this.removeChildTextFromParent(e.text,i)),e.url=s.getAttribute("href")||"#",i&&(e.hasSubmenu=!0,i.querySelectorAll(":scope > li").forEach(t=>{e.children.push(this.extractNavItemData(t))})),e}buildAccordionHTML(t,e){const i=`${this.instanceId}-submenu-${this.submenuCounter++}`;let s="";return t.hasSubmenu?(s=this.openSubmenusOnClick?`\n\t\t\t\t\t<button type="button" class="priority-nav-accordion-toggle priority-nav-accordion-toggle-full" \n\t\t\t\t\t        aria-expanded="false" aria-controls="${i}">\n\t\t\t\t\t\t<span class="priority-nav-accordion-text">${this.escapeHtml(t.text)}</span>\n\t\t\t\t\t\t<span class="priority-nav-accordion-arrow" aria-hidden="true">›</span>\n\t\t\t\t\t</button>\n\t\t\t\t\t<ul class="priority-nav-accordion-content" id="${i}" aria-hidden="true">\n\t\t\t\t`:`\n\t\t\t\t\t<span class="priority-nav-accordion-wrapper">\n\t\t\t\t\t\t<a href="${this.escapeHtml(t.url)}" class="priority-nav-accordion-link">${this.escapeHtml(t.text)}</a>\n\t\t\t\t\t\t<button type="button" class="priority-nav-accordion-toggle priority-nav-accordion-toggle-arrow" \n\t\t\t\t\t\t        aria-expanded="false" aria-controls="${i}" aria-label="Toggle submenu">\n\t\t\t\t\t\t\t<span class="priority-nav-accordion-arrow" aria-hidden="true">›</span>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</span>\n\t\t\t\t\t<ul class="priority-nav-accordion-content" id="${i}" aria-hidden="true">\n\t\t\t\t`,t.children.forEach(t=>{s+=`<li>${this.buildAccordionHTML(t,e+1)}</li>`}),s+="</ul>"):s=`<a href="${this.escapeHtml(t.url)}">${this.escapeHtml(t.text)}</a>`,s}escapeHtml(t){const e=document.createElement("div");return e.textContent=t,e.innerHTML}toggleAccordionItem(t,e){"true"===t.getAttribute("aria-expanded")?(t.setAttribute("aria-expanded","false"),e.style.setProperty("display","none","important"),e.classList.remove("is-open"),e.setAttribute("aria-hidden","true"),this.openAccordions=this.openAccordions.filter(e=>e.button!==t),e.querySelectorAll('.priority-nav-accordion-toggle[aria-expanded="true"]').forEach(t=>{const e=t.getAttribute("aria-controls"),i=this.dropdown.querySelector(`#${e}`);i&&(t.setAttribute("aria-expanded","false"),i.style.setProperty("display","none","important"),i.classList.remove("is-open"),i.setAttribute("aria-hidden","true"))})):(t.setAttribute("aria-expanded","true"),e.style.setProperty("display","block","important"),e.style.setProperty("opacity","1","important"),e.style.setProperty("visibility","visible","important"),e.style.setProperty("position","static","important"),e.classList.add("is-open"),e.setAttribute("aria-hidden","false"),this.openAccordions.push({button:t,submenu:e}))}closeAllAccordions(){this.openAccordions.forEach(({button:t,submenu:e})=>{t.setAttribute("aria-expanded","false"),e.style.setProperty("display","none","important"),e.classList.remove("is-open"),e.setAttribute("aria-hidden","true")}),this.openAccordions=[]}destroy(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),this.mutationObserver&&(this.mutationObserver.disconnect(),this.mutationObserver=null),this.retryTimeout&&(clearTimeout(this.retryTimeout),this.retryTimeout=null),this.moreButton&&this.moreButtonClickHandler&&this.moreButton.removeEventListener("click",this.moreButtonClickHandler),this.documentClickHandler&&document.removeEventListener("click",this.documentClickHandler,!0),this.documentKeydownHandler&&document.removeEventListener("keydown",this.documentKeydownHandler),this.dropdown&&this.dropdownClickHandler&&this.dropdown.removeEventListener("click",this.dropdownClickHandler)}}document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".wp-block-navigation.is-style-priority-nav").forEach(e=>new t(e))})}},i={};function s(t){var n=i[t];if(void 0!==n)return n.exports;var r=i[t]={exports:{}};return e[t](r,r.exports,s),r.exports}s.m=e,t=[],s.O=(e,i,n,r)=>{if(!i){var o=1/0;for(c=0;c<t.length;c++){for(var[i,n,r]=t[c],a=!0,l=0;l<i.length;l++)(!1&r||o>=r)&&Object.keys(s.O).every(t=>s.O[t](i[l]))?i.splice(l--,1):(a=!1,r<o&&(o=r));if(a){t.splice(c--,1);var h=n();void 0!==h&&(e=h)}}return e}r=r||0;for(var c=t.length;c>0&&t[c-1][2]>r;c--)t[c]=t[c-1];t[c]=[i,n,r]},s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={500:0,959:0};s.O.j=e=>0===t[e];var e=(e,i)=>{var n,r,[o,a,l]=i,h=0;if(o.some(e=>0!==t[e])){for(n in a)s.o(a,n)&&(s.m[n]=a[n]);if(l)var c=l(s)}for(e&&e(i);h<o.length;h++)r=o[h],s.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return s.O(c)},i=globalThis.webpackChunkpriority_plus_nav=globalThis.webpackChunkpriority_plus_nav||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))})();var n=s.O(void 0,[959],()=>s(103));n=s.O(n)})();